<div *ngIf="!accounts" >
  <mat-spinner class="spiner-item"></mat-spinner>
</div>

<div *ngIf="accounts">
<h2>{{header}}</h2>
<form  [formGroup]="myControl">

  <mat-form-field >
    <mat-label>Employer</mat-label>
    <input type="text" placeholder="Pick one" aria-label="Employer" matInput 
      formControlName="accountName" [matAutocomplete]="auto">
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let option of accountFilteredOptions | async" [value]="option.employerName">
        {{option.employerName}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>


  <mat-form-field >
    <mat-label>Employee</mat-label>
    <input type="text" placeholder="Pick one" aria-label="Employee" matInput 
      formControlName="contactFullName" [matAutocomplete]="autos">
    <mat-autocomplete #autos="matAutocomplete">
      <mat-option *ngFor="let option of contactFilterdOptions | async" [value]="option.fullName">
        {{option.fullName}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>


<mat-form-field appearance="fill">
  <mat-label>Project Name</mat-label>
  <input matInput formControlName="project">
</mat-form-field>

<mat-form-field appearance="fill">
  <mat-label>Choose a date</mat-label>
  <input matInput [matDatepicker]="picker" formControlName="date" >
  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-datepicker #picker></mat-datepicker>
</mat-form-field>


<div class="cost-item">
<mat-form-field appearance="fill">
  <mat-label>Spent</mat-label>
  <input type="number" matInput formControlName="spent" >
</mat-form-field>

<mat-label>Vat (21%): {{vat}}</mat-label>
<mat-label>Total: {{total}}</mat-label>
</div>

<mat-form-field appearance="fill">
  <mat-label>Comment</mat-label>
  <textarea matInput formControlName="comment"></textarea>
</mat-form-field>

<mat-dialog-actions>
  <button mat-button color="primary" (click)="saveExpense()" [disabled]="myControl.dirty == false || !myControl.valid">
    <mat-icon>save</mat-icon> Save
  </button>
  <button mat-button color="primary" (click)="closeWindow()">
    <mat-icon>cancel</mat-icon> Cancel
  </button>
</mat-dialog-actions>
</form>
</div>
